[object:full_graphics]
#
# Terminology.
#   TILE refers to and only to logical tiles the map is composed from,
#        with the exception of TILE_PAGE which is deemed same as CEL_PAGE.
#        These are walls, floors, open space, etc.
#	 Tile names are taken from df/tiletype.h (xml/df.tile-types.xml)
#
#   CEL refers to and only to a graphical representation, be it a single
#        image or an animated sequence.
# 
#
# 'std' is the name of predefined 16x16 'font'
# anything after coordinates is considered effects
#
# Tile definition token [tile:<tile name>[:<cel def>]]
#   permitted tokens under it: [cel]
#   
# Cel definition token:
#   [cel:none] - do not draw anything there (open space, etc.)  
#   [cel:<inline celdef>] - where <inline celdef> is 
#        <celref>[:<effect>] is a shortcut for 
#     [cel]
#       [blit:<celref>]
#       [blend:MAT:<effect>]
#
#   permitted tokens under it: [blit] [blend] [glow] [key]
#
# [blit:<celref>] blits given cel with current frame's blend or glow settings
# Celref is one of:
#  [blit:<pagename>:<celdefname>] - refers to an alias defined in [tilepage]
#  [blit:<pagename>:<index>] - cel by index
#  [blit:<pagename>:<s>:<t>] - cel by column, row
#  [blit:none]   - don't blit anything (same as omitting [blit] for the keyframe)
#
# [blend:<colordef>] mixes given color with cel being blitted this frame.
#  Colordef is one of:
#
#  [blend:rgb] 
#  [blend:rgb] 
#  [blend:rrggbb]
#    where r, g and b are single-character hex numbers. Same as in CSS.
#    blending here is plain multiplication: color * tile_color
#
#  [blend:rgb:rgb] 
#  [blend:rrggbb:rrggbb]
#  [blend:fg:bg:br] - classic color triplet looked up in data/init/colors.txt
#  These work just like the original renderers, namely:
#       color = mix(tile_color * fg, bg, 1.0 - tile_color.a)
#  basically, the 'background' color 'shines through' translucent/transparent
#  parts of the tile, while tile's own color is multiplied by 'foreground' color.
#
#  [blend:mat] - uses material's DISPLAY_COLOR triplet. This is implied.
#  [blend:none] - Blits the cel as is.
#
#  [glow] Both this and next keyframe must have non-none and different blend 
#  defined. Linearly interpolates blend color for each frame in between, 
#  for both fore and background colors. Blit is replicated from this frame.
#  (possibly add alpha interpolation for blit)
#
#  [key:<frameno>] signals that instructions following this token refer to 
#  key frame number <frameno>. [key:0] is implicitly inserted at the start 
#  of the celdef. Final keyframe definition that consists of single [key]
#  token loops back to the zeroeth frame. 
#
# [key:0][blit:...][blend:...]
# [key:2][blit:...][blend:...]
# [key:4][blit:...][blend:...][glow]
# [key:6] <- assume it's [key:0], glow frame 4 in 6-4 = two frames to frame 0's blend.
#
# currently supported effect tokens:
#
# [color:<tr,ipl,et>] - classic fg,bg,br. 
#  Use either numbers, or fg,bg,br literals,
#  they stand for material's DISPLAY_COLOR values
#  see tilesets.txt for examples. 
# 
# [material:class:token] applies materials of class 'class',
#  that have token 'token' in their definition to the 
#  tilesets listed below. 
#
# Material classes:
#   inorganic
#   plant
#   none : none (or, more precisely, any) material, 
#      used to define material-unbound tiles.
#
# Examples:
#  [material:inorganic:SOIL] - soils
#  [material:inorganic:SEDIMENTARY]       }
#  [material:inorganic:IGNEOUS_EXTRUSIVE] } layer
#  [material:inorganic:IGNEOUS_INTRUSIVE] } stone
#  [material:inorganic:METAMORPHIC]       }
#    or
#  [material:inorganic:SEDIMENTARY:IGNEOUS_EXTRUSIVE:IGNEOUS_INTRUSIVE:METAMORPHIC]
#
#  minerals are defined like that:
#
#  [material:inorganic:ENVIRONMENT:ENVIRONMENT_SPEC:DEEP_SPECIAL:DEEP_SURFACE]
#
#   DEEP_SPECIAL selects adamantine, DEEP_SURFACE - slade
#
#  [material:inorganic:IS_METAL]
#  [material:inorganic:IS_GEM]
#
#  [material:plant:WOOD] - for like beds and other wooden stuff
#  [material:plant:GRASS]
#  [material:plant:TREE]
#  [material:plant:SHRUB_TILE]
#
# Literal material name can also be used:
#  [material:inorganic:CERAMIC_PORCELAIN]
#
#  
#  Application consists mostly of taking material's 
#  DISPLAY_COLOR, processing it with any effects defined
#  for the tile and emitting the result as blit code.
#
# The following tokens are permitted under [material] one:
#  [emit:<tsname|bsname>]
#  [tile:<literal_tilename>[:<cel-def>]] (as in tileset def)
#
# On the top level, [tile:<tilename>] explicitly defines a tile. 
# It will be drawn as defined regardless of what material 
# the game assigns to it, same as under [material:none]
#
# Buildings definition: see buildings.txt
#

[cel_page:std]
    [file:32px/32pxTILESET.png]
    [cel_dim:32:32]
    [page_dim:16:16]

[cel_page:32px]
    [file:32px/32pxGRAPHICS.png]
    [cel_dim:32:32]
    [page_dim:16:16]
    [def:uds:0:0]

[material:inorganic:soil]
    [tilesets:soil]

[material:inorganic:sedimentary:igneous_extrusive:igneous_intrusive:metamorphic:!is_gem]
    [tilesets:stone:constructed]
    [buildings]

[material:inorganic:environment:environment_spec:!is_gem]
    [tilesets:mineral:constructed]
    [buildings]

[material:inorganic:deep_special:!is_metal] # raw adamantine
    [tilesets:mineral]

[material:inorganic:deep_surface]
    [tilesets:feature]

[material:inorganic:is_metal]
    [tilesets:constructed]
    [buildings]
 
[material:derived:wood]
    [classic_color:6,0,0]
    [tilesets:constructed]
    [buildings]

[material:inorganic:is_gem]
    [tilesets:mineral]

[material:plant:shrub_tile]
    [tilesets:vegetation]

[material:plant:grass]
    [tilesets:grass]

[material:plant:tree_tile]
    [tilesets:vegetation]

[tileset:nonmat]
    [tile:Ashes1][cel:std:2:15]
    [tile:Ashes2][cel:std:3:15]
    [tile:Ashes3][cel:std:3:15]
    [tile:Campfire][cel:std:0:0]
    [tile:Chasm][cel:none]
    [tile:Driftwood][cel:32px:1:0]
    [tile:EeriePit][cel:std:0:0]
    [tile:Fire][cel:std:0:0]
    [tile:GlowingBarrier][cel:std:0:0]
    [tile:GlowingFloor][cel:std:0:0]
    [tile:MagmaFlow][cel:std:0:0]
    [tile:MurkyPool][cel:std:0:0]
    [tile:OpenSpace][cel:none]
    [tile:RampTop][cel:none]
    [tile:SemiMoltenRock][cel:std:0:11]
    [tile:Void][cel:none]
    [tile:Waterfall][cel:none]

[material:none]
    [tilesets:nonmat]


